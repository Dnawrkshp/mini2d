#---------------------------------------------------------------------------------
# Clear the implicit built in rules
#---------------------------------------------------------------------------------
.SUFFIXES:
#---------------------------------------------------------------------------------


SUBDIRS 		:=		$(wildcard */.)
SUBDIRSCLEAN 	:=		$(SUBDIRS:%=clean-%)

#---------------------------------------------------------------------------------
all:	$(SUBDIRS)

#---------------------------------------------------------------------------------
clean:	$(SUBDIRSCLEAN)

#---------------------------------------------------------------------------------
$(SUBDIRS):
	@echo "[ALL]    $(dir $@)"
	@$(MAKE) --no-print-directory -C $@

#---------------------------------------------------------------------------------
$(SUBDIRSCLEAN):
	@echo "[CLEAN]  $(dir $(@:clean-%=%))"
	@$(MAKE) --no-print-directory -C $(@:clean-%=%) clean

#---------------------------------------------------------------------------------
.PHONY: all $(SUBDIRS)
.PHONY: $(SUBDIRSCLEAN)
